{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\Somayeh\\\\Downloads\\\\Video\\\\ReactMosh\\\\New folder\\\\ReactPro\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"C:\\\\Users\\\\Somayeh\\\\Downloads\\\\Video\\\\ReactMosh\\\\New folder\\\\ReactPro\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Somayeh\\\\Downloads\\\\Video\\\\ReactMosh\\\\New folder\\\\ReactPro\\\\my-app\\\\src\\\\screen\\\\Movies.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { getMovies } from '../services/fakeMoviesService';\nimport { getGenres } from '../services/fakeGenreService';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport Pagination from '../component/Pagination';\nimport MoviesTable from '../component/MoviesTable';\nimport SearchInput from './../component/SearchInput';\nimport _ from 'lodash';\nimport paginate from '../utils/paginate';\nimport Genre from '../screen/genre';\n\nfunction Movies() {\n  var _useState = useState(getMovies()),\n      _useState2 = _slicedToArray(_useState, 2),\n      moveis = _useState2[0],\n      setMoveis = _useState2[1];\n\n  var _useState3 = useState(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentPage = _useState4[0],\n      setCurrentPage = _useState4[1];\n\n  var _useState5 = useState(getMovies().length),\n      _useState6 = _slicedToArray(_useState5, 2),\n      totalCount = _useState6[0],\n      setTotalCount = _useState6[1];\n\n  var _useState7 = useState(5),\n      _useState8 = _slicedToArray(_useState7, 2),\n      pageSize = _useState8[0],\n      setPageSize = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searchInput = _useState10[0],\n      setSearchInput = _useState10[1];\n\n  var _useState11 = useState([{\n    _id: '',\n    name: 'All Genres'\n  }].concat(_toConsumableArray(getGenres()))),\n      _useState12 = _slicedToArray(_useState11, 2),\n      genres = _useState12[0],\n      setGenres = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      itemActive = _useState14[0],\n      setItemActive = _useState14[1];\n\n  var handlePageChange = function handlePageChange(page) {\n    setCurrentPage(page);\n  };\n\n  var filtered = itemActive ? moveis.filter(function (m) {\n    return m.genre._id === itemActive;\n  }) : moveis;\n  var moviespaginate = paginate(filtered, currentPage, pageSize);\n  var pagesCount = filtered.length / pageSize;\n  if (pagesCount === 1) return null;\n\n  var pages = _.range(1, pagesCount + 1);\n\n  var handelSelectGenre = function handelSelectGenre(genreItem) {\n    setItemActive(genreItem._id);\n    setCurrentPage(1);\n  };\n\n  var handleSearch = function handleSearch(e) {\n    var searchitem = e.target.value;\n    console.log('====================================');\n    console.log(searchitem);\n    console.log('====================================');\n\n    if (searchitem) {\n      setSearchInput(searchitem);\n      var data = moveis.filter(function (item) {\n        return item.title.includes(searchInput);\n      });\n      setMoveis(data);\n    }\n    /*  else {\r\n    setMoveis(getMovies())\r\n    } */\n\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"Showing \", \" movies in the database.\"), /*#__PURE__*/React.createElement(Col, {\n    lg: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Genre, {\n    Items: genres,\n    ItemActive: itemActive,\n    onSelectGenre: handelSelectGenre,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: \"8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"btn btn-primary\",\n    href: \"/movies/New\",\n    role: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"New Movie\"), /*#__PURE__*/React.createElement(SearchInput, {\n    value: searchInput,\n    onChange: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(MoviesTable, {\n    moviespaginate: moviespaginate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Pagination, {\n    itemsCount: filtered.length,\n    pagesCount: pagesCount,\n    pages: pages,\n    pageSize: pageSize,\n    currentPage: currentPage,\n    onPageChange: handlePageChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  })))));\n}\n\nexport default Movies;","map":{"version":3,"names":["React","useEffect","useState","getMovies","getGenres","Container","Row","Col","Pagination","MoviesTable","SearchInput","_","paginate","Genre","Movies","moveis","setMoveis","currentPage","setCurrentPage","length","totalCount","setTotalCount","pageSize","setPageSize","searchInput","setSearchInput","_id","name","genres","setGenres","itemActive","setItemActive","handlePageChange","page","filtered","filter","m","genre","moviespaginate","pagesCount","pages","range","handelSelectGenre","genreItem","handleSearch","e","searchitem","target","value","console","log","data","item","title","includes"],"sources":["C:/Users/Somayeh/Downloads/Video/ReactMosh/New folder/ReactPro/my-app/src/screen/Movies.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { getMovies } from '../services/fakeMoviesService'\r\nimport { getGenres } from '../services/fakeGenreService'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\nimport Pagination from '../component/Pagination'\r\nimport MoviesTable from '../component/MoviesTable'\r\nimport SearchInput from './../component/SearchInput'\r\nimport _ from 'lodash'\r\nimport paginate from '../utils/paginate'\r\nimport Genre from '../screen/genre'\r\nfunction Movies() {\r\n  const [moveis, setMoveis] = useState(getMovies())\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [totalCount, setTotalCount] = useState(getMovies().length)\r\n  const [pageSize, setPageSize] = useState(5)\r\n  const [searchInput, setSearchInput] = useState('')\r\n  const [genres, setGenres] = useState([\r\n    { _id: '', name: 'All Genres' },\r\n    ...getGenres(),\r\n  ])\r\n  const [itemActive, setItemActive] = useState()\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page)\r\n  }\r\n\r\n  const filtered = itemActive\r\n    ? moveis.filter((m) => m.genre._id === itemActive)\r\n    : moveis\r\n\r\n  const moviespaginate = paginate(filtered, currentPage, pageSize)\r\n\r\n  const pagesCount = filtered.length / pageSize\r\n  if (pagesCount === 1) return null\r\n  const pages = _.range(1, pagesCount + 1)\r\n\r\n  const handelSelectGenre = (genreItem) => {\r\n    setItemActive(genreItem._id)\r\n    setCurrentPage(1)\r\n  }\r\n  const handleSearch = (e) => {\r\n    let searchitem = e.target.value\r\n    console.log('====================================')\r\n    console.log(searchitem)\r\n    console.log('====================================')\r\n    if (searchitem) {\r\n      setSearchInput(searchitem)\r\n      const data = moveis.filter((item) => item.title.includes(searchInput))\r\n      setMoveis(data)\r\n    } /*  else {\r\n      setMoveis(getMovies())\r\n    } */\r\n  }\r\n  return (\r\n    <>\r\n      <Container>\r\n        <Row>\r\n          <p>Showing {/* {count} */} movies in the database.</p>\r\n          <Col lg=\"2\">\r\n            <Genre\r\n              Items={genres}\r\n              ItemActive={itemActive}\r\n              onSelectGenre={handelSelectGenre}\r\n            ></Genre>\r\n          </Col>\r\n          <Col lg=\"8\">\r\n            <a className=\"btn btn-primary\" href=\"/movies/New\" role=\"button\">\r\n              New Movie\r\n            </a>\r\n            <SearchInput\r\n              value={searchInput}\r\n              onChange={handleSearch}\r\n            ></SearchInput>\r\n            <MoviesTable moviespaginate={moviespaginate}></MoviesTable>\r\n\r\n            <Pagination\r\n              itemsCount={filtered.length}\r\n              pagesCount={pagesCount}\r\n              pages={pages}\r\n              pageSize={pageSize}\r\n              currentPage={currentPage}\r\n              onPageChange={handlePageChange}\r\n            ></Pagination>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Movies\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}